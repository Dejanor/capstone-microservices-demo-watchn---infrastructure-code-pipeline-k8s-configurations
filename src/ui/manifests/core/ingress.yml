#@ load("@ytt:data", "data")

#@ if/end data.values.ingress.enabled:
---
apiVersion: networking.k8s.io/v1beta1
kind: Ingress
metadata:
  name: front-end
  namespace: #@ data.values.namespace
  labels:
    name: front-end
  #@ if/end data.values.ingress.annotations:
  annotations: #@ data.values.ingress.annotations
spec:
  rules:
    #@ for/end host in data.values.ingress.hosts:
    - host: #@ host
      http:
        paths:
          - path: /*
            backend:
              serviceName: ui
              servicePort: 80
  #@ if/end data.values.ingress.tls:
  tls: #@ data.values.ingress.tls